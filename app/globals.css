@import url('https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  font-family: 'Noto Naskh Arabic', serif;
}

/* Arabic text optimization */
.arabic-text {
  font-family: 'Noto Naskh Arabic', serif;
  line-height: 1.8;
  text-align: right;
  direction: rtl;
}

/* Highlightable text selection */
.highlightable::selection {
  background-color: #fef08a;
  color: #000;
}

.highlightable::-moz-selection {
  background-color: #fef08a;
  color: #000;
}

/* Custom scrollbar for RTL */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a1a1a1;
}

/* Accordion animations */
.accordion-content {
  overflow: hidden;
  transition: max-height 0.3s ease-out;
}

/* Card swipe animations */
.swipe-card {
  touch-action: pan-y;
  user-select: none;
}

/* Frequency badges */
.badge-high {
  @apply bg-red-100 text-red-800 border-red-200;
}

.badge-medium {
  @apply bg-yellow-100 text-yellow-800 border-yellow-200;
}

.badge-low {
  @apply bg-blue-100 text-blue-800 border-blue-200;
}

/* Bottom navigation safe area */
.safe-bottom {
  padding-bottom: env(safe-area-inset-bottom, 16px);
}

/* Toast notifications */
.toast {
  @apply fixed bottom-20 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-lg shadow-lg z-50;
  animation: slideUp 0.3s ease-out;
}

/* Search highlight */
.search-highlight {
  @apply bg-yellow-200 rounded px-0.5;
}

/* Active state for touch */
.touch-active:active {
  @apply bg-gray-100;
}

/* Law card hover effect */
.law-card {
  @apply transition-all duration-200;
}

.law-card:hover {
  @apply shadow-lg -translate-y-1;
}

.law-card:active {
  @apply shadow-md translate-y-0;
}

/* Flashcard flip animation */
.flashcard {
  perspective: 1000px;
}

.flashcard-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.flashcard.flipped .flashcard-inner {
  transform: rotateY(180deg);
}

.flashcard-front,
.flashcard-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.flashcard-back {
  transform: rotateY(180deg);
}

/* Progress ring */
.progress-ring {
  transform: rotate(-90deg);
}

.progress-ring__circle {
  transition: stroke-dashoffset 0.35s;
}

/* Skeleton loading */
.skeleton {
  @apply animate-pulse bg-gray-200 rounded;
}

/* PWA install prompt */
.install-prompt {
  @apply fixed bottom-24 left-4 right-4 bg-white rounded-xl shadow-xl p-4 z-50;
  animation: slideUp 0.3s ease-out;
}
